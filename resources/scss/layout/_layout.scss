// ================================
// LAYOUT
// ================================

.container {
  @include container;

  &-fluid {
    width: 100%;
    padding-left: $container-padding;
    padding-right: $container-padding;
  }

  &-narrow {
    max-width: 800px;
  }

  &-wide {
    max-width: 1600px;
  }
}

// Grid system
.grid {
  display: grid;
  gap: spacing(6);

  &-cols {
    &-1 { grid-template-columns: repeat(1, 1fr); }
    &-2 { grid-template-columns: repeat(2, 1fr); }
    &-3 { grid-template-columns: repeat(3, 1fr); }
    &-4 { grid-template-columns: repeat(4, 1fr); }
    &-5 { grid-template-columns: repeat(5, 1fr); }
    &-6 { grid-template-columns: repeat(6, 1fr); }
  }

  &-responsive {
    grid-template-columns: 1fr;

    @include respond-to(md) {
      grid-template-columns: repeat(2, 1fr);
    }

    @include respond-to(lg) {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  &-gap {
    &-sm { gap: spacing(3); }
    &-md { gap: spacing(6); }
    &-lg { gap: spacing(8); }
  }
}

// App layout
.app {
  &-layout {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }

  &-header {
    background-color: $white;
    border-bottom: 1px solid $gray-200;
    box-shadow: $shadow-sm;
    position: sticky;
    top: 0;
    z-index: z('sticky');

    &-inner {
      @include container;
      @include flex-between;
      gap: spacing(4);
      min-height: 4rem;
      padding-top: spacing(3);
      padding-bottom: spacing(3);
    }
  }

  &-nav {
    @include flex-row;
    gap: spacing(1);

    &-item {
      padding: spacing(2) spacing(4);
      border-radius: $border-radius;
      color: $gray-700;
      font-weight: $font-weight-medium;
      transition: $transition-fast;

      &:hover {
        background-color: $gray-100;
        text-decoration: none;
      }

      &.active {
        background-color: alpha($primary, 0.1);
        color: $primary;
      }
    }
  }

  &-sidebar {
    width: 16rem;
    background-color: $white;
    border-right: 1px solid $gray-200;
    padding: spacing(6);
    flex-shrink: 0;

    @include respond-to-max(lg) {
      position: fixed;
      top: 0;
      left: -16rem;
      height: 100vh;
      z-index: z('fixed');
      transition: left 0.3s ease-in-out;

      &.open {
        left: 0;
      }
    }

    &-nav {
      @include flex-column;
      gap: spacing(1);

      &-item {
        padding: spacing(3) spacing(4);
        border-radius: $border-radius;
        color: $gray-700;
        font-weight: $font-weight-medium;
        transition: $transition-fast;

        &:hover {
          background-color: $gray-100;
          text-decoration: none;
        }

        &.active {
          background-color: $primary;
          color: $white;
        }
      }
    }
  }

  &-main {
    flex: 1;
    padding: spacing(6) 0;

    @include respond-to(md) {
      padding: spacing(8) 0;
    }
  }

  &-content {
    @include container;
  }

  &-footer {
    background-color: $white;
    border-top: 1px solid $gray-200;
    padding: spacing(6) 0;
    margin-top: auto;

    &-inner {
      @include container;
      @include flex-between;
      gap: spacing(4);

      @include respond-to-max(md) {
        flex-direction: column;
        text-align: center;
      }
    }

    &-links {
      @include flex-row;
      gap: spacing(4);
      flex-wrap: wrap;

      a {
        color: $gray-600;
        font-size: $font-size-sm;

        &:hover {
          color: $primary;
        }
      }
    }

    &-copy {
      color: $gray-500;
      font-size: $font-size-sm;
    }
  }
}

// Two column layout (with sidebar)
.layout {
  &-with-sidebar {
    display: flex;
    gap: spacing(6);

    @include respond-to-max(lg) {
      flex-direction: column;
    }

    .layout-sidebar {
      width: 250px;
      flex-shrink: 0;

      @include respond-to-max(lg) {
        width: 100%;
      }
    }

    .layout-content {
      flex: 1;
      min-width: 0; // Prevent flex overflow
    }
  }
}

// Section
.section {
  padding: spacing(8) 0;

  &-header {
    margin-bottom: spacing(6);

    h1, h2, h3 {
      margin-bottom: spacing(2);
    }

    p {
      color: $gray-600;
      font-size: $font-size-lg;
    }
  }

  &-bg {
    &-gray {
      background-color: $gray-50;
    }

    &-white {
      background-color: $white;
    }
  }
}
